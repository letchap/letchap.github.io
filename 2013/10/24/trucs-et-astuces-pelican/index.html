<!doctype html>
<html class="no-js" lang="en">
  <head>
	<meta charset="utf-8">
	<meta http-equiv="x-ua-compatible" content="ie=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<meta name="author" content="letchap">
	<title>Trucs et astuces Pelican</title>

	<!-- Style -->
	<link rel="stylesheet" href="../../../../theme/css/app.css"/> <!--#TODO changer le path -->

	<!--link rel="stylesheet" href="../../../../theme/css/style.css"/-->
	<link rel="stylesheet" href="../../../../theme/css/pygments.css"/>
    <link rel="stylesheet" href="../../../../theme/css/foundation-icons.css"/>
    <link rel="stylesheet" href="../../../../theme/css/lightbox.css"/>
    <link rel="stylesheet" href="../../../../theme/css/newicons.css"/>
    <!-- Syndication -->
    <link href="/atom.xml" type="application/atom+xml" rel="alternate" title="letchap RSS Feed"/>

    <!-- Google analytics -->


    <script async src="https://www.googletagmanager.com/gtag/js?id=G-K7EEZEDYMT"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());

      gtag('config', 'G-K7EEZEDYMT');
    </script>




  </head>

  <body>
  <!--'body'content'here'-->
    <!-- Nav Bar -->
    <nav class="top-bar">
      <div class="top-bar-left">
         <ul class="menu">
           <li class="menu-text">
             <a href="../../../..">Accueil</a>
           </li>
           <li class="menu-text">
            <a href="../../../../pages/a-propos.html">A propos</a>
           </li>
         </ul>
      </div>

      <div class="top-bar-right">
        <ul class="menu">
          <li><a href="../../../../archives.html"><i class="fi-list-thumbnails"></i> Archives</a></li>
          <li><a href="/atom.xml" type="application/atom+xml" rel="subscribe-rss"
               title="Subscribe via RSS"><i class="fi-rss"></i></a></li>

          <form action="https://duckduckgo.com" method="get">
            <div class="grid-container">
              <div class="grid-x grid-padding-x" >
                <div class="medium-9 cell">
                 <input type="search" name="q" placeholder="Search">
                 <input type="hidden" name="sites" value="letchap.github.io" />

                </div>
              </div>
            </div>
          </form>
        </ul>
      </div>
    </nav>
    <!-- Nav Bar -->

    <!-- Header -->
    <header class="callout large" id="myheader">
      <div class="text-left">
                  <h2><a href="../../../..">letchap</a></h2>
      </div>
        <h2><small>du Linux, du Python, un peu de Mac</small></h2>
    </header>
    <!-- Header -->



  <!-- Main Page Content and Sidebar -->
  <section role="main">
    <div class="grid-container">
        <div class="grid-x grid-margin-x grid-margin-y">

        <!-- Main Blog Content -->
        <div class="medium-9 cell">
<section>
  <article>
	<h2><a href="../../../../2013/10/24/trucs-et-astuces-pelican/" rel="bookmark" title="Permalink to Trucs et astuces Pelican">Trucs et astuces Pelican</a></h2>
	
	<hr />
	<i class="fi-calendar size-14"></i>&nbsp;Thu 24 October 2013&nbsp;&nbsp;
    <i class="fi-price-tag size-14"></i><a href="../../../../category/pelican.html">&nbsp;Pelican</a>
	<hr />
	
	<p>Me voilà donc sous Pelican ! Il m'a fallu un petit moment pour arriver à un résultat publiable, la version par défaut de Pelican ne me convenant pas. Finalement, j'ai effectué un certain nombre de modifications, que ce soit dans la présentation, dans le fichier de configuration, dans les plugins ou même sur la procédure de publication des pages sur Github. Pour la procédure d'installation, je vous renvoie à la documentation officielle.</p>
<p>Le plus compliqué pour moi a été la mise en forme des blocs de code avec pygments et le CSS associé pour que cela fontionne sur tous les navigateurs. J'ai fait beaucoup de modifications, si vous voulez plus de détails que ce qui est écrit, demandez moi !</p>
<p>Et maintenant, petit tour d'horizon de ma customisation de Pelican. Vous trouverez les sources de mon thème sur mon <a href="https://github.com/letchap/letchap.github.io/tree/source/mon-theme">compte github</a>.</p>
<p>Je suis parti sur la base du thème pelican-bootstrap3 qui se trouve dans le dépôt <a href="https://github.com/getpelican/pelican-themes">pelican-theme</a>. Ce thème est basé sur bootstrap, qui offre une mise en forme par défaut directement utilisable. J'ai choisi le thème spacelab disponible <a href="http://bootswatch.com/spacelab/">à cette adresse sur bootswatch</a>.</p>
<h3>Le fichier base.html</h3>
<p>J'ai d'abord modifié le ficher base.html pour y ajouter le nom de l'auteur (le mien en l'occurrence) dans le head puisque je suis l'unique auteur et je me passe ainsi du tag author dans les fichiers markdown contenant les articles.</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">meta</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;author&quot;</span> <span class="na">content</span><span class="o">=</span><span class="s">&quot;{{ AUTHOR }}&quot;</span><span class="p">&gt;</span>
</code></pre></div>

<p>J'ai également ajouté un banner pour y mettre le nom du blog et un sous-titre avant la barre de navigation dans le corps de la page.</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">body</span><span class="p">&gt;</span>
<span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;container&quot;</span><span class="p">&gt;</span>
    <span class="cm">&lt;!-- Banner</span>
<span class="cm">    ================================================== --&gt;</span>

        <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;site-header&quot;</span> <span class="na">id</span><span class="o">=</span><span class="s">&quot;banner&quot;</span><span class="p">&gt;</span>
            <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;row&quot;</span><span class="p">&gt;</span>
                <span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;col-lg-6&quot;</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">h1</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ SITEURL }}&quot;</span><span class="p">&gt;</span>{{ SITENAME }}<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">h1</span><span class="p">&gt;</span>
                    <span class="p">&lt;</span><span class="nt">p</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;lead&quot;</span><span class="p">&gt;</span>{{ SITESUBTITLE }}<span class="p">&lt;/</span><span class="nt">p</span><span class="p">&gt;</span>
                <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
            <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
        <span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</code></pre></div>

<p>Enfin j'ai ajouté un formulaire de recherche basé sur google et la possibilité de s'abonner à un flux RSS (voir plus bas).</p>
<h3>Le fichier article.html</h3>
<p>Du coup, j'ai aussi supprimé tout ce qui avait trait à l'auteur dans ce fichier.</p>
<h3>Disqus</h3>
<p>Bon, alors, j'ai galèré un peu à cause de l'adresse URL relative. En hébergeant mon site sur les pages Github, je suis obligé d'utiliser les URL relatives (j'ai essayé avec les URL absolues mais j'avais des liens bizarres). La conséquence est qu'il n'est pas possible de s'appuyer sur la variable SITEURL qui renvoie un <code>.</code> dans les fichiers html. Et là, deux possibilités, soit utiliser une variable qui va stocker l'adresse du site (la même que celle que je vais créer un peu plus bas pour google), soit utiliser uniquement le slug de l'article (au sens Disqus, c'est à dire dans mon cas avec la date, c'est ce que j'ai paramétré dans pelicanconf.py dans ARTICLE_URL) comme identifiant Disqus, comme ce que j'ai finalement choisi de faire.</p>
<div class="codehilite"><pre><span></span><code><span class="o">&lt;</span><span class="nx">script</span><span class="w"> </span><span class="nx">type</span><span class="o">=</span><span class="s2">&quot;text/javascript&quot;</span><span class="o">&gt;</span>
<span class="w">    </span><span class="cm">/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */</span>
<span class="w">    </span><span class="kd">var</span><span class="w"> </span><span class="nx">disqus_identifier</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">&quot;{{ article.url }}&quot;</span><span class="p">;</span>
<span class="w">    </span><span class="cm">/* * * DON&#39;T EDIT BELOW THIS LINE * * */</span>
<span class="w">    </span><span class="p">(</span><span class="kd">function</span><span class="w"> </span><span class="p">()</span><span class="w"> </span><span class="p">{</span>
<span class="w">        </span><span class="kd">var</span><span class="w"> </span><span class="nx">dsq</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">createElement</span><span class="p">(</span><span class="s1">&#39;script&#39;</span><span class="p">);</span>
<span class="w">        </span><span class="nx">dsq</span><span class="p">.</span><span class="nx">type</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;text/javascript&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="nx">dsq</span><span class="p">.</span><span class="k">async</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="kc">true</span><span class="p">;</span>
<span class="w">        </span><span class="nx">dsq</span><span class="p">.</span><span class="nx">src</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s1">&#39;http://{{ DISQUS_SITENAME }}.disqus.com/embed.js&#39;</span><span class="p">;</span>
<span class="w">        </span><span class="p">(</span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;head&#39;</span><span class="p">)[</span><span class="mf">0</span><span class="p">]</span><span class="w"> </span><span class="o">||</span><span class="w"> </span><span class="nb">document</span><span class="p">.</span><span class="nx">getElementsByTagName</span><span class="p">(</span><span class="s1">&#39;body&#39;</span><span class="p">)[</span><span class="mf">0</span><span class="p">]).</span><span class="nx">appendChild</span><span class="p">(</span><span class="nx">dsq</span><span class="p">);</span>
<span class="w">    </span><span class="p">})();</span>
<span class="o">&lt;</span><span class="err">/script&gt;</span>
</code></pre></div>

<p>Par contre, attention, ce n'est pas très précis, et il ne faut pas avoir plusieurs discussions avec le même identifiant Disqus, ce qui peut arriver lors d'une migration de site, ou même, ce qui m'est arrivé, en testant le site localement en ayant activé Disqus. Pour avoir une base Disqus propre, j'ai finalement été obligé d'effacer entièrement mon compte Disqus et de tout réimporter. Un peu bourrin comme méthode mais efficace.</p>
<p>Je verrai par la suite si je suis contraint d'utiliser un identifiant plus discriminant que le slug de l'article. Pour l'instant, ça suffit.</p>
<h3>Les fichiers CSS</h3>
<p>Par défaut, nous avons besoin de 3 fichiers CSS pour gérer le style bootstrap, les icones fontawesome et la coloration synthaxique :
- bootstrap.min.css
- fontawesome.min.css
- pygments.css</p>
<p>Toutes les modifications ou surcharges sont à faire dans un fichier spécifique qui est nommé style.css dans le thème bootstrap3 et que j'ai un peu adapté à mes besoins, surtout pour les insertions de blocs de code. Tous les commentaires sont dans le code.</p>
<div class="codehilite"><pre><span></span><code><span class="c">/* Fichier de personalisation de bootstrap */</span>

<span class="c">/* Modification du style pour afficher le code</span>
<span class="c">   Fond jaune, pas de retour à ligne, débordement par ascenceur horizontal,</span>
<span class="c">   largeur fixe de tableau et de colonnes pour le code avec numéro de ligne,</span>
<span class="c">   et alignement des colonnes en haut du tableau */</span>

<span class="p">.</span><span class="nc">highlight</span><span class="w"> </span><span class="nt">pre</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#fdf6e3</span><span class="p">;</span>
<span class="w">  </span><span class="k">white-space</span><span class="p">:</span><span class="w"> </span><span class="kc">pre</span><span class="p">;</span>
<span class="w">  </span><span class="k">overflow-x</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span><span class="p">;</span>
<span class="p">}</span>


<span class="p">.</span><span class="nc">linenodiv</span><span class="w"> </span><span class="nt">pre</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">white-space</span><span class="w"> </span><span class="p">:</span><span class="w"> </span><span class="kc">pre</span><span class="p">;</span>
<span class="w">  </span><span class="k">overflow-x</span><span class="p">:</span><span class="w"> </span><span class="kc">auto</span>
<span class="p">}</span>


<span class="p">.</span><span class="nc">highlighttable</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">table-layout</span><span class="p">:</span><span class="w"> </span><span class="kc">fixed</span><span class="p">;</span>
<span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="mi">100</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">tbody</span><span class="w"> </span><span class="p">{</span>
<span class="w">	</span><span class="k">vertical-align</span><span class="p">:</span><span class="w"> </span><span class="kc">top</span>
<span class="w">	</span><span class="p">}</span>

<span class="nt">td</span><span class="p">.</span><span class="nc">linenos</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">5</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="nt">td</span><span class="p">.</span><span class="nc">code</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">width</span><span class="p">:</span><span class="w"> </span><span class="mi">95</span><span class="kt">%</span><span class="p">;</span>
<span class="p">}</span>

<span class="p">.</span><span class="nc">well</span><span class="w"> </span><span class="p">{</span>
<span class="w">	</span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">1</span><span class="kt">px</span><span class="p">;</span>
<span class="w">	</span><span class="k">padding</span><span class="p">:</span><span class="mi">6</span><span class="kt">px</span><span class="p">;</span>
<span class="p">}</span>

<span class="c">/* Modification du style des liens  */</span>
<span class="nt">a</span><span class="w"> </span><span class="p">{</span>
<span class="w">	</span><span class="k">color</span><span class="p">:</span><span class="w"> </span><span class="kc">inherit</span><span class="p">;</span>
<span class="w">	</span><span class="k">text-decoration</span><span class="p">:</span><span class="kc">none</span>
<span class="p">}</span>

<span class="nt">a</span><span class="p">:</span><span class="nd">hover</span><span class="o">,</span>
<span class="nt">a</span><span class="p">:</span><span class="nd">focus</span><span class="w"> </span><span class="p">{</span>
<span class="w">	</span><span class="k">color</span><span class="p">:</span><span class="mh">#3399f3</span><span class="p">;</span>
<span class="w">	</span><span class="k">text-decoration</span><span class="p">:</span><span class="kc">none</span>
<span class="p">}</span>

<span class="c">/* Ajout d&#39;un style pour le header  */</span>

<span class="p">.</span><span class="nc">site-header</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">margin-bottom</span><span class="p">:</span><span class="mi">5</span><span class="kt">px</span><span class="p">;</span>
<span class="w">	</span><span class="k">border-bottom</span><span class="p">:</span><span class="mi">1</span><span class="kt">px</span><span class="w"> </span><span class="kc">solid</span><span class="w"> </span><span class="mh">#eee</span>
<span class="p">}</span>

<span class="c">/* Modification du style des liens pour le bloc aside */</span>

<span class="nt">a</span><span class="p">.</span><span class="nc">list-group-item</span><span class="p">:</span><span class="nd">hover</span><span class="o">,</span>
<span class="nt">a</span><span class="p">.</span><span class="nc">list-group-item</span><span class="p">:</span><span class="nd">focus</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="k">background-color</span><span class="p">:</span><span class="w"> </span><span class="mh">#3399f3</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>

<p><a class="button small" href="../../../../code/style.css" title="Télécharger style.css">Télécharger style.css</a></p>
<p>Une exception que je n'ai pas réussi à gérer dans style.css, j'ai supprimé dans le fichier bootstrap.css, pour la balise pre, la mise en forme word-wrap: word-break. Sinon, impossible d'avoir un ascenseur horizontal dans le bloc de code.</p>
<h3>RSS</h3>
<p>J'ai commencé par paramétrer un flux RSS dans le fichier de configuration, que j'ai rendu accessible dans ma barre de navigation. Je n'ai pas vraiment suivi les recommandations de la documentation, j'ai plutôt fait une adaptation à ma sauce.</p>
<p>Tout d'abord, dans le fichier pelicanconf.py, j'ai simplement ajouté une ligne, ce qui ne génèrera qu'un seul fichier atom.xml pour tous les posts, c'est largement suffisant, pas besoin de catégories ni de sous-dossier feed.</p>
<div class="codehilite"><pre><span></span><code><span class="n">FEED_ALL_ATOM = &#39;atom.xml&#39;</span>
</code></pre></div>

<p><strong>LE PLUS IMPORTANT</strong> est dans le fichier base.html. Il ne faut surtout, surtout, surtout pas faire ce qui est écrit partout, à savoir paramétrer le lien RSS avec l'adresse du site comme ceci :</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ SITEURL }}/{{ FEED_ALL_ATOM }}&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;application/atom+xml&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;subscribe-rss&quot;</span>
    <span class="na">title</span><span class="o">=</span><span class="s">&quot;Subscribe via RSS&quot;</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-rss&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</code></pre></div>

<p>Il faut impérativement le paramètrer sans référence au site comme celà :</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;/{{ FEED_ALL_ATOM }}&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;application/atom+xml&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;subscribe-rss&quot;</span>
    <span class="na">title</span><span class="o">=</span><span class="s">&quot;Subscribe via RSS&quot;</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-rss&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
</code></pre></div>

<p>Sinon, le risque est d'avoir des liens vers les articles tous bizarres dans les aggrégateurs de flux.</p>
<h3>La recherche sur le site avec google</h3>
<p>Le fichier de configuration est un outil magique car il permet de définir ses propres variables réutilisables dans les fichiers html. Je m'en suis servi pour créer deux variables permettant une recherche sur mon site grâce à google.</p>
<div class="codehilite"><pre><span></span><code>SIMPLE_SEARCH = &#39;http://google.com/search&#39;
ABSURL = &#39;letchap.github.io&#39;
</code></pre></div>

<p>Puis, j'ai ajouté un formulaire de recherche dans la barre de navigation en ajoutant les lignes suivantes dans le fichier base.html.</p>
<div class="codehilite"><pre><span></span><code><span class="p">&lt;</span><span class="nt">ul</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;nav navbar-nav navbar-right&quot;</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ SITEURL }}/archives.html&quot;</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-th-list&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;</span>Archives<span class="p">&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">li</span><span class="p">&gt;&lt;</span><span class="nt">a</span> <span class="na">href</span><span class="o">=</span><span class="s">&quot;{{ SITEURL }}/{{ FEED_ALL_RSS }}&quot;</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;application/atom+xml&quot;</span> <span class="na">rel</span><span class="o">=</span><span class="s">&quot;subscribe-rss&quot;</span>
        <span class="na">title</span><span class="o">=</span><span class="s">&quot;Subscribe via RSS&quot;</span><span class="p">&gt;&lt;</span><span class="nt">i</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;icon-rss&quot;</span><span class="p">&gt;&lt;/</span><span class="nt">i</span><span class="p">&gt;&lt;/</span><span class="nt">a</span><span class="p">&gt;&lt;/</span><span class="nt">li</span><span class="p">&gt;</span>
    <span class="p">&lt;</span><span class="nt">form</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;navbar-form navbar-right&quot;</span> <span class="na">action</span><span class="o">=</span><span class="s">&quot;{{ SIMPLE_SEARCH }}&quot;</span> <span class="na">method</span><span class="o">=</span><span class="s">&quot;get&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">fieldset</span> <span class="na">role</span><span class="o">=</span><span class="s">&quot;search&quot;</span><span class="p">&gt;</span>
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;hidden&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;q&quot;</span> <span class="na">value</span><span class="o">=</span><span class="s">&quot;site:{{ ABSURL }}&quot;</span> <span class="p">/&gt;</span>  
        <span class="p">&lt;</span><span class="nt">input</span> <span class="na">type</span><span class="o">=</span><span class="s">&quot;search&quot;</span> <span class="na">class</span><span class="o">=</span><span class="s">&quot;form-control col-lg-8&quot;</span> <span class="na">name</span><span class="o">=</span><span class="s">&quot;q&quot;</span> <span class="na">results</span><span class="o">=</span><span class="s">&quot;0&quot;</span> <span class="na">placeholder</span><span class="o">=</span><span class="s">&quot;Search&quot;</span> <span class="p">/&gt;</span>  
        <span class="p">&lt;/</span><span class="nt">fieldset</span><span class="p">&gt;</span>
    <span class="p">&lt;/</span><span class="nt">form</span><span class="p">&gt;</span>  
<span class="p">&lt;/</span><span class="nt">ul</span><span class="p">&gt;</span>
</code></pre></div>

<h3>Les plugins</h3>
<p>La liste des plugins est disponible sur <a href="https://github.com/getpelican/pelican-plugins">github</a>.</p>
<p>Je n'utilise qu'un seul plugin, celui permet d'insérer et de télécharger du code dont le petit nom est include_code.py. Il a un petit problème, il ne cause pas français, ou UTF-8 si vous préférez. J'ai donc été obligé de modifier légèrement le code à 3 endroits pour qu'il accepte les accents (d'djiou!).</p>
<p>J'ai ajouté <code># -*- coding: utf-8 -*-</code> en tête du fichier</p>
<p>J'ai remplacé</p>
<div class="codehilite"><pre><span></span><code><span class="n">code</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">code_path</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
</code></pre></div>

<p>par</p>
<div class="codehilite"><pre><span></span><code><span class="n">code</span> <span class="o">=</span> <span class="nb">open</span><span class="p">(</span><span class="n">code_path</span><span class="p">)</span><span class="o">.</span><span class="n">read</span><span class="p">()</span><span class="o">.</span><span class="n">decode</span><span class="p">(</span><span class="s1">&#39;utf8&#39;</span><span class="p">)</span>
</code></pre></div>

<p>Enfin, j'ai remplacé</p>
<div class="codehilite"><pre><span></span><code><span class="n">open_tag</span> <span class="o">=</span> <span class="p">(</span><span class="s2">&quot;&lt;figure class=&#39;code&#39;&gt;</span><span class="se">\n</span><span class="s2">&lt;figcaption&gt;&lt;span&gt;</span><span class="si">{title}</span><span class="s2">&lt;/span&gt; &quot;</span>
            <span class="s2">&quot;&lt;a href=&#39;</span><span class="si">{url}</span><span class="s2">&#39;&gt;download&lt;/a&gt;&lt;/figcaption&gt;&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span><span class="n">title</span><span class="o">=</span><span class="n">title</span><span class="p">,</span>
                                                               <span class="n">url</span><span class="o">=</span><span class="n">url</span><span class="p">))</span>
<span class="n">close_tag</span> <span class="o">=</span> <span class="s2">&quot;&lt;/figure&gt;&quot;</span>
</code></pre></div>

<p>par</p>
<div class="codehilite"><pre><span></span><code><span class="n">open_tag</span> <span class="o">=</span> <span class="sa">u</span><span class="s2">&quot;&lt;figure&gt;&lt;figcaption class=&#39;well well-sm&#39;&gt;&lt;span style=&#39;text-align: left&#39;&gt;</span><span class="si">{title}</span><span class="se">\</span>
<span class="s2">            &quot;</span><span class="o">&lt;/</span><span class="n">span</span><span class="o">&gt;&lt;</span><span class="n">a</span> <span class="n">style</span><span class="o">=</span><span class="s1">&#39;float: right&#39;</span> <span class="n">href</span><span class="o">=</span><span class="s1">&#39;</span><span class="si">{url}</span><span class="s1">&#39;</span><span class="o">&gt;</span><span class="n">Télécharger</span><span class="o">&lt;/</span><span class="n">a</span><span class="o">&gt;&lt;/</span><span class="n">figcaption</span><span class="o">&gt;</span><span class="s2">&quot;.format(title=title,url=url)</span>
<span class="n">close_tag</span> <span class="o">=</span> <span class="s2">&quot;&lt;/figure&gt;&quot;</span>
</code></pre></div>

<h3>La publication de mes pages Github et de mes sources</h3>
<p>Le sujet méritait un billet dédié. Il est disponible <a href="../../../../2013/10/16/gerer-la-publication-et-les-sources-dun-site-pelican-sur-github/" title="Gérer la publication et les sources d'un site Pelican sur Github">ici</a>.</p>
	
  </article>
  <hr />
	<div class="grid-container">
      <div class="grid-x grid-padding-x">
        <div class="cell large-12">
          <div id="cusdis_thread"
            data-host="https://cusdis.com"
            data-app-id="0e5fe46f-ef6e-4be2-abb1-5abe9211600f"
            data-page-id="2013/10/24/trucs-et-astuces-pelican/"
            data-page-url="2013/10/24/trucs-et-astuces-pelican/"
            data-page-title="Trucs et astuces Pelican">
          </div>
        </div>
      </div>
    </div>
    <script async defer src="https://cusdis.com/js/cusdis.es.js"></script>

</section>
        </div>

        <!-- End Main Content -->
    
        <!-- Sidebar -->
    
        <div class="medium-3 cell">
          <div class="callout large secondary">

		  <h4>Catégories</h4>
		  <ul class="vertical menu">
		    <li><a href="../../../../category/archlinux.html">Archlinux</a></li>
		    <li><a href="../../../../category/conky.html">Conky</a></li>
		    <li><a href="../../../../category/crunchbang.html">Crunchbang</a></li>
		    <li><a href="../../../../category/foundation.html">Foundation</a></li>
		    <li><a href="../../../../category/freebox.html">Freebox</a></li>
		    <li><a href="../../../../category/linux.html">Linux</a></li>
		    <li><a href="../../../../category/lubuntu.html">Lubuntu</a></li>
		    <li><a href="../../../../category/mac-os-x.html">Mac OS X</a></li>
		    <li><a href="../../../../category/mageia.html">Mageia</a></li>
		    <li><a href="../../../../category/microbe.html">Microbe</a></li>
		    <li><a href="../../../../category/octopress.html">Octopress</a></li>
		    <li><a href="../../../../category/openshift.html">Openshift</a></li>
		    <li><a href="../../../../category/pelican.html">Pelican</a></li>
		    <li><a href="../../../../category/python.html">Python</a></li>
		    <li><a href="../../../../category/shell.html">Shell</a></li>
		    <li><a href="../../../../category/terminal.html">Terminal</a></li>
		    <li><a href="../../../../category/unowhy-y13.html">Unowhy Y13</a></li>
		    <li><a href="../../../../category/virtualbox.html">VirtualBox</a></li>
		  </ul>

		  <h4>Social</h4>
		  <ul class="vertical menu">
		    <li>
			  <a href="https://mastodon.social/@letchap">
			  <i class="icon-mastodon medium"></i> mastodon
			  </a>
			</li>
		    <li>
			  <a href="https://bsky.app/profile/letchap.bsky.social">
			  <i class="icon-bluesky medium"></i> bluesky
			  </a>
			</li>
		    <li>
			  <a href="https://github.com/letchap">
			  <i class="icon-github medium"></i> github
			  </a>
			</li>
		  </ul>

          </div>
	    </div>
      </div>
      <!-- End Sidebar -->
    </div>
 
  <!-- End Main Content and Sidebar -->

  <!-- Footer -->
   <footer>
   <div class="grid-container">
        <div class="grid-x grid-padding-x">

        <div class="cell large-6">
          <p>© Copyright WTFPL</p>
        </div>
        <div class="cell large-6">
            <div class="text-right">

            <a href="http://getpelican.com/">Site généré par Pelican</a>
        </div>
        </div>
      </div>
    </div>
  </footer>
</section> 
  <!-- End Footer -->

    <script src="../../../../theme/js/jquery.js"></script>
<!--    <script src="../../../../theme/js/foundation.min.js"></script>-->
     <script>
        $(document).foundation();
    </script>
	
	<script src="../../../../theme/js/lightbox-2.6.min.js"></script>
  


    <script src="../../../../theme/js/app.js"></script>



  </body>
</html>